import{j as e,L as n}from"./index-Dk8juSHD.js";import{B as h}from"./BottomNav-J-8fi2Ub.js";import{c as m,u as i}from"./store-DYT5Yrjk.js";import{u as x}from"./useQuery-CttvB5Qk.js";import{g as u,s as g,a as j}from"./mappings-CMSqqKNN.js";import{b as f}from"./iconBase-nQXOa-fT.js";import v from"./ErrorPage-B328crey.js";import{j as p}from"./motion-PHSgthsk.js";const w=({manga:l,scrollPosition:s})=>e.jsxs("div",{className:"w-full md:w-1/2 md:place-self-center lg:w-1/3 shadow-xl flex flex-col gap-10 justify-center h-40 relative items-center text-center bg-cover mb-10",style:{backgroundImage:`url('${l.coverImage}')`,backgroundPosition:"top",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"w-full shadow-xl h-full absolute z-10 bg-dark-primary opacity-65"}),e.jsx("h2",{className:"card-title w-full text-center text-2xl ml-6 mr-6 line-clamp-2 z-20 items-center justify-center text-light-primary",children:l.title}),e.jsx("div",{className:"card-actions",children:e.jsx(n,{to:`view-manga/${l.slug}/${s.chapterID}`,className:"btn bg-light-primary text-light-secondary z-20 text-lg",state:{previousPage:"Home"},children:"Continue Reading"})})]}),b=({slug:l,title:s,coverImage:t})=>e.jsx("div",{className:"carousel-item w-1/3 md:w-1/4 lg:w-1/5 flex overflow-y-hidden shadow-neutral ",children:e.jsx(n,{to:`view-manga/${l}`,state:{previousPage:"Home"},children:e.jsxs("div",{className:"card rounded-none gap-1 h-full",children:[e.jsx("figure",{className:"h-4/5 w-full",children:e.jsx("img",{src:t,alt:s,className:"w-full h-full image-full object-cover"})}),e.jsx("div",{className:"card-body h-1/6 p-0",children:e.jsx("h2",{className:"card-title text-xs md:text-sm lg:text-xl text-slate-50 line-clamp-2",children:s})})]})})}),N=({category:l})=>{const{heading:s}=u(l);return e.jsxs("div",{className:"flex flex-col h-80 ml-2 mr-2 mb-10 animate-pulse",children:[e.jsxs("div",{className:"flex flex-row justify-between mb-2 ml-2 mr-2",children:[e.jsx("p",{children:s}),e.jsx("p",{children:"..."})]}),e.jsxs("div",{className:"carousel gap-2 ",children:[e.jsx("div",{className:"carousel-item w-1/3 overflow-y-hidden bg-neutral-600",children:e.jsx("a",{children:e.jsxs("div",{className:"card shadow-xl rounded-none gap-2 h-full bg-neutral-600",children:[e.jsx("figure",{className:"h-4/5 w-full bg-neutral-600",children:e.jsx("div",{className:"w-full image-full object-cover h-44"})}),e.jsx("div",{className:"card-body h-1/6 p-0",children:e.jsx("h2",{className:"card-title text-xs bg-neutral-300 h-10"})})]})})}),e.jsx("div",{className:"carousel-item w-1/3 overflow-y-hidden bg-neutral-600",children:e.jsx("a",{children:e.jsxs("div",{className:"card shadow-xl rounded-none gap-2 h-full bg-neutral-600",children:[e.jsx("figure",{className:"h-4/5 w-full bg-neutral-600",children:e.jsx("div",{className:"w-full image-full object-cover h-44"})}),e.jsx("div",{className:"card-body h-1/6 p-0",children:e.jsx("h2",{className:"card-title text-xs bg-neutral-300 h-10"})})]})})}),e.jsx("div",{className:"carousel-item w-1/3 overflow-y-hidden bg-neutral-600",children:e.jsx("a",{children:e.jsxs("div",{className:"card shadow-xl rounded-none gap-2 h-full bg-neutral-600",children:[e.jsx("figure",{className:"h-4/5 w-full bg-neutral-600",children:e.jsx("div",{className:"w-full image-full object-cover h-44"})}),e.jsx("div",{className:"card-body h-1/6 p-0",children:e.jsx("h2",{className:"card-title text-xs bg-neutral-300 h-10"})})]})})})]})]})},d=({category:l})=>{const{heading:s,queryKey:t}=u(l),{isPending:a,error:r,data:o}=x({queryKey:[t],queryFn:m});if(a)return e.jsx(N,{category:l});if(r)return e.jsx(v,{});if(o){const c=f(o,l);g(l,c)}return e.jsxs("div",{className:"flex flex-col ml-2 mr-2",children:[e.jsxs("div",{className:"flex flex-row justify-between mb-2 ml-2 mr-2 text-slate-50",children:[e.jsx("p",{className:"md:text-lg lg:text-2xl",children:s}),e.jsx(n,{to:`view-all/${l}`,state:{previousPage:"Home"},children:e.jsx("p",{className:"md:text-lg lg:text-2xl",children:"..."})})]}),e.jsxs("div",{className:`carousel gap-2 ${l=="rank"?"mb-20":"mb-5"}`,children:[j(l).slice(0,8).map(c=>e.jsx(b,{coverImage:c.coverImage,slug:c.slug,title:c.title},c.slug)),e.jsx("div",{className:"carousel-item w-1/3 overflow-y-hidden flex flex-col place-content-center text-center",children:e.jsx(n,{to:`view-all/${l}`,state:{previousPage:"Home"},children:e.jsx("div",{className:"card  rounded-none gap-1 h-full  ",children:e.jsx("div",{className:"card-body h-1/6 p-0",children:e.jsx("p",{className:"card-title text-2xl text-slate-50 line-clamp-2",children:"See All"})})})})})]})]})},y=()=>e.jsxs("div",{className:"flex flex-row h-20 place-self-center mb-4 mt-4",children:[e.jsx("div",{className:"bg-logo-light dark:bg-logo-dark w-24 justify-around bg-center bg-cover"}),e.jsx("strong",{className:"text-slate-100 place-self-center text-3xl",children:"MangaMeister"})]}),k=({slug:l,title:s,coverImage:t,firstSlug:a})=>{const r=l==a?{initial:{x:0},animate:{x:[-30,0],transition:{x:{repeat:2,repeatType:"reverse",duration:.7,ease:"easeInOut"}}}}:void 0;return e.jsxs(p.div,{variants:r,initial:"initial",animate:"animate",whileInView:"animate",className:"w-full md:w-1/2 lg:w-1/3 shadow-xl carousel-item flex flex-col gap-10 justify-center h-full relative items-center text-center bg-cover",style:{backgroundImage:`url('${t}')`,backgroundPosition:"top",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"w-full shadow-xl h-full absolute z-10 bg-dark-primary opacity-65"}),e.jsx("h2",{className:"card-title w-full text-center text-2xl ml-6 mr-6 line-clamp-2 z-20 items-center justify-center text-light-primary",children:s}),e.jsx("div",{className:"card-actions",children:e.jsx(n,{to:`view-manga/${l}`,className:"btn bg-light-primary text-light-secondary z-20 text-lg",state:{previousPage:"Home"},children:"Read"})})]})},S=()=>e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"carousel carousel-end bg-neutral-600 h-80 w-full mb-10",children:e.jsx("div",{className:"carousel-item w-1/3 overflow-y-hidden",children:e.jsx("a",{children:e.jsxs("div",{className:"card shadow-xl rounded-none gap-1 h-full",children:[e.jsx("figure",{className:"h-4/5 w-full",children:e.jsx("div",{className:"w-full h-full image-full object-cover"})}),e.jsx("div",{className:"card-body h-1/6 p-0 ",children:e.jsx("h2",{className:"card-title text-xs "})})]})})})})});function P(){const{isPending:l,error:s,data:t}=x({queryKey:["fetchTrendingMangas"],queryFn:m});if(l)return e.jsx(S,{});if(s)return e.jsxs("div",{children:["Error: ",s.message]});if(t){const a=t.trending[30].map(r=>({slug:r.slug,title:r.title,coverImage:i.getState().imageUrlPrefix+r.md_covers[0].b2key}));i.setState({trendingMangas:a})}return e.jsx("div",{className:"carousel carousel-end bg-black h-80 w-full mb-10 shadow-md shadow-light-secondary",children:i.getState().trendingMangas.map(a=>e.jsx(k,{slug:a.slug,title:a.title,coverImage:a.coverImage,firstSlug:t.trending[30][0].slug},a.slug))})}const T=()=>e.jsxs("div",{className:"flex flex-col min-h-screen max-h-full bg-light-primary dark:bg-dark-primary text-light-secondary dark:text-dark-secondary",children:[e.jsx(y,{}),i.getState().scrollPosition.chapterID!=""&&i.getState().selectedManga&&e.jsx(w,{manga:i.getState().selectedManga,scrollPosition:i.getState().scrollPosition}),e.jsx(P,{}),e.jsx(d,{category:"new"}),e.jsx(d,{category:"popular"}),e.jsx(d,{category:"rank"}),e.jsx(h,{activePage:"Home"})]});export{T as default};
